<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC
    "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN"
    "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:svg="http://www.w3.org/2000/svg" xml:lang="en">
<head><meta http-equiv="Content-type" content="application/xhtml+xml;charset=utf-8" /><title></title></head>
<body>
<h1 id="phoenix">Phoenix</h1>

<h1 id="theme_asset_interaction_library_and_management_tools_written_in_go">Theme asset interaction library and management tools written in Go</h1>
<hr />
<h2 id="command_line_usage">Command Line Usage</h2>

<p>The Phoenix library is used for the creation of several tools that make it easy to work with the Shopify Assets API. Before you can get started, download the appropriate collection of binaries for your system:</p>

<ul>
<li><strong><a href="https://github.com/csaunders/phoenix/releases/tag/0.0.4">Current Release - 0.0.4 alpha</a></strong></li>
</ul>

<p>Older Releases</p>

<ul>
<li><a href="https://github.com/csaunders/phoenix/releases/tag/0.0.3">0.0.3</a></li>

<li><a href="https://github.com/csaunders/phoenix/releases/tag/0.0.2">0.0.2</a></li>

<li><a href="https://github.com/csaunders/phoenix/releases/tag/0.0.1">0.0.1</a></li>
</ul>

<p>Nightly Releases</p>

<p>When new commits are pushed and a release hasn’t been made yet, there will be a nightly branch. If nothing has diverged from the latest release, a nightly build will not be available.</p>
<hr />
<p>Place the binary files somewhere and add that location to your classpath. On a Unix-like operating system using Bash you’d do something like this:</p>

<pre><code>mkdir -p ~/utils/phoenix
echo &quot;export PATH=$PATH:/~/utils/phoenix&quot; &gt; ~/.bashrc
source ~/.bashrc</code></pre>

<h3 id="theme_tools">Theme Tools</h3>

<h4 id="themeconfigure">theme-configure</h4>

<p>If you are using Phoenix for the first time, this is what you will want to use to get your <code>config.yml</code> setup correctly. This will build out the configuration file so you can interact with your theme on Shopify.</p>

<p>Basic usage includes:</p>

<pre><code>cd theme-dir
theme-configure --domain=somedomain.myshopify.com --access_token=TOKEN</code></pre>

<p><strong>Access Tokens</strong></p>

<p>You will need to go to the <em>Apps area</em> of your shops Admin and create a new private app. Copy the key from the <strong>Password</strong> field and use that for value of the <code>access_token</code> flag.</p>

<p>If all goes well you should have a <code>config.yml</code> file in your <code>theme-dir</code></p>

<h4 id="themewatch">theme-watch</h4>

<p>By running <code>theme-watch</code> you will start up a long running process that will watch your current directory (and all subdirectories) for changes. If you update or remove files, those changes will be passed off to Shopify and updated on your theme.</p>

<p><strong>Concurrency</strong></p>

<p>You can tune how many uploads you’d like to do at once by adjusting the <code>concurrency</code> field in your <code>config.yml</code>. By default you’ll have a concurrency of <strong>2</strong> which means you should never have to worry about running out of API requests when working on a theme. If you aren’t making a super large amount of updates at the same time you can tweak this value into something that is a bit more acceptable for you.</p>

<p><em>Caveats</em></p>

<p>Most API clients have an upper limit of 40 requests with a 2 request refill. So if you make a request that does more than 40 updates, after those first 40 requests you’ll end up with an effective concurrency of 2 until all your files have been processed.</p>

<h4 id="thememanipulate">theme-manipulate</h4>

<p>This tool provides a bunch of various actions you can perform. Many of these are what you’d do to a single asset file, such as uploading or downloading.</p>

<h5 id="thememanipulate_upload_file_">theme-manipulate upload file []</h5>

<p>Provide one or more files that you’d like to upload to Shopify. If you want to upload an entire directory you can include a wildcard. (i.e. <code>theme-manipulate upload templates/*</code> to upload all your templates)</p>

<h4 id="thememanipulate_download_file_">theme-manipulate download [file ]</h4>

<p>Download one or more files from Shopify.</p>

<p>If no files are provided then all the themes assets will be downloaded to your local filesystem.</p>

<h1 id="debugging">Debugging</h1>

<p>If you are having issues with the tool (uploads are not working for example) you can install a tool such as <a href="http://www.charlesproxy.com/">Charles Proxy</a> or <a href="http://mitmproxy.org/">mitmproxy</a>. You can the information collected from the proxy to improve the quality of your bug report.</p>

<p><strong>Be aware that running with a proxy will cause the theme utilties to disable certificate validation!</strong></p>

<p>To enable the proxy feature simply add the following to your <code>config.yml</code></p>

<pre><code>proxy: url_to_your_proxy (i.e. http://localhost:8080)</code></pre>
</body></html>
